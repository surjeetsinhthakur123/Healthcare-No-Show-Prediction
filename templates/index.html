{% extends "base.html" %}

{% block content %}
<section class="dashboard">
  <h2><i class="fas fa-chart-line"></i> Dashboard Overview</h2>
  <div class="stats-grid">
    <div class="stat-card">
      <h3><i class="fas fa-calendar-alt"></i> Total Appointments</h3>
      <p>{{ stats.total_appointments }}</p>
    </div>
    <div class="stat-card">
      <h3><i class="fas fa-user-times"></i> No-Show Rate</h3>
      <p>{{ stats.no_show_rate }}%</p>
    </div>
    <div class="stat-card">
      <h3><i class="fas fa-sms"></i> SMS Effectiveness</h3>
      <p>With SMS: {{ stats.no_show_with_sms }}%</p>
      <p>Without SMS: {{ stats.no_show_without_sms }}%</p>
    </div>
  </div>
</section>

<section class="prediction-form">
  <h2><i class="fas fa-calculator"></i> No-Show Risk Prediction</h2>
  <form action="/predict" method="post">
    <div class="form-group">
      <label for="age"><i class="fas fa-user"></i> Patient Age:</label>
      <input type="number" id="age" name="age" class="form-control" required min="18" max="100">
    </div>
    
    <div class="form-group">
      <label for="sms_received"><i class="fas fa-mobile-alt"></i> SMS Reminder:</label>
      <select id="sms_received" name="sms_received" class="form-control" required>
        <option value="1">Yes</option>
        <option value="0">No</option>
      </select>
    </div>
    
    <div class="form-group">
      <label for="weekday"><i class="fas fa-calendar-day"></i> Appointment Day:</label>
      <select id="weekday" name="weekday" class="form-control" required>
        <option value="1">Monday</option>
        <option value="2">Tuesday</option>
        <option value="3">Wednesday</option>
        <option value="4">Thursday</option>
        <option value="5">Friday</option>
        <option value="6">Saturday</option>
        <option value="7">Sunday</option>
      </select>
    </div>
    
    <div class="form-group">
      <label for="previous_noshows"><i class="fas fa-history"></i> Previous No-Shows:</label>
      <input type="number" id="previous_noshows" name="previous_noshows" class="form-control" required min="0" max="10" value="0">
    </div>
    
    <div class="form-group">
      <label>
        <input type="checkbox" name="diabetes" value="1"> Diabetes
      </label>
    </div>
    
    <div class="form-group">
      <label>
        <input type="checkbox" name="hypertension" value="1"> Hypertension
      </label>
    </div>
    
    <div class="form-group">
      <label>
        <input type="checkbox" name="scholarship" value="1"> Medical Insurance
      </label>
    </div>
    
    <button type="submit" class="btn">
      <i class="fas fa-chart-bar"></i> Predict No-Show Risk
    </button>
  </form>
</section>
{% endblock %}
